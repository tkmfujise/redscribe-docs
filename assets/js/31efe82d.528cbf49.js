"use strict";(self.webpackChunkredscribe_docs=self.webpackChunkredscribe_docs||[]).push([[7743],{120:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/04.change-font-size-89c5eb1e385f5b2958408dbb87d59460.png"},236:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/04.full-rect-ae3b8de75760e89c1ee057c36179f17c.png"},1081:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/04.add-child-node-bfa6f652c41a6afb3aa68f3b0d992403.png"},1099:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/04.redscribe-editor-cc609781202b50d6600dcbbcee9e4559.png"},2425:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/04.live-coding-app-4fd1857153bc0be85e0d74d3bd7ba3aa.png"},2855:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/04.horizontal-expand-d29384c6ba2e78249d3adf195ea2679b.png"},4298:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>p,frontMatter:()=>c,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"example1_live_coding","title":"Example 1: Simple Live Coding App","description":"Let\'s create a simple live coding app.","source":"@site/docs/04.example1_live_coding.md","sourceDirName":".","slug":"/example1_live_coding","permalink":"/redscribe-docs/docs/example1_live_coding","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_label":"Example 1: Simple Live Coding App"},"sidebar":"tutorialSidebar","previous":{"title":"Using REPL","permalink":"/redscribe-docs/docs/using_repl"},"next":{"title":"Writing DSL","permalink":"/redscribe-docs/docs/writing_dsl"}}');var s=t(4848),r=t(8453),d=t(4028);const c={sidebar_label:"Example 1: Simple Live Coding App"},a="Example 1: Simple Live Coding App",o={},l=[{value:"Create a scene",id:"create-a-scene",level:2},{value:"Project settings",id:"project-settings",level:2},{value:"Create a theme",id:"create-a-theme",level:2},{value:"ReDScribeEditor node",id:"redscribeeditor-node",level:2},{value:"Attach a GDScript",id:"attach-a-gdscript",level:2},{value:"Connect the text_changed signal",id:"connect-the-text_changed-signal",level:2},{value:"Complete!",id:"complete",level:2}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"example-1-simple-live-coding-app",children:"Example 1: Simple Live Coding App"})}),"\n",(0,s.jsx)(n.p,{children:"Let's create a simple live coding app."}),"\n",(0,s.jsx)(n.h2,{id:"create-a-scene",children:"Create a scene"}),"\n",(0,s.jsxs)(n.p,{children:["First, create a scene of the ",(0,s.jsx)(n.strong,{children:"Control"})," node and add child nodes so that you have a tree like this:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-txt",metastring:'title="Node tree"',children:"Control\n  \u2514 HBoxContainer\n      \u251c ReDScribeEditor\n      \u2514 RichTextLabel\n"})}),"\n",(0,s.jsxs)(n.p,{children:["To add a child node, right-click to display the menu and select it, or press ",(0,s.jsx)(n.code,{children:"Ctrl-A"})," (or ",(0,s.jsx)(n.code,{children:"Command-A"})," on macOS) to add it."]}),"\n",(0,s.jsx)(d.A,{children:(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Add a child node",src:t(1081).A+"",width:"408",height:"288"})})}),"\n",(0,s.jsx)(n.p,{children:"After adding child nodes, adjust their width:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:['Select "Full Rect" in the "Anchor Preset" of ',(0,s.jsx)(n.strong,{children:"HBoxContainer"})]}),"\n",(0,s.jsxs)(n.li,{children:['Check "Expand" under ',(0,s.jsx)(n.strong,{children:"Horizontal Alignment"})," of ",(0,s.jsx)(n.strong,{children:"ReDScribeEditor"})]}),"\n",(0,s.jsxs)(n.li,{children:['Check "Expand" under ',(0,s.jsx)(n.strong,{children:"Horizontal Alignment"})," of ",(0,s.jsx)(n.strong,{children:"RichTextLabel"})]}),"\n"]}),"\n",(0,s.jsx)(d.A,{children:(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Full Rect",src:t(236).A+"",width:"1918",height:"1030"})})}),"\n",(0,s.jsx)(d.A,{children:(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Horizontal Expand",src:t(2855).A+"",width:"1916",height:"1030"})})}),"\n",(0,s.jsxs)(n.p,{children:["Once you've split the screen into two sections\u2014",(0,s.jsx)(n.strong,{children:"ReDScribeEdtior"})," on the left and ",(0,s.jsx)(n.strong,{children:"RichTextLabel"})," on the right\u2014try running the scene."]}),"\n",(0,s.jsx)(n.p,{children:"When you type in the editor area (on the left side), you might notice that the text appears quite small."}),"\n",(0,s.jsx)(n.p,{children:"This happens because Godot supports hiDPI."}),"\n",(0,s.jsx)(n.p,{children:"There are serveral ways to address this, but we'll resolve it by adjusting the project settings."}),"\n",(0,s.jsx)(n.h2,{id:"project-settings",children:"Project settings"}),"\n",(0,s.jsxs)(n.p,{children:["Open ",(0,s.jsx)(n.strong,{children:"Project"})," \u2192 ",(0,s.jsx)(n.strong,{children:"Project Settings"}),', and type "stretch" into the search bar.']}),"\n",(0,s.jsxs)(n.p,{children:["Set the ",(0,s.jsx)(n.strong,{children:"Stretch Scale"}),' value to "2.0".']}),"\n",(0,s.jsx)(d.A,{children:(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Stretch Scale",src:t(9408).A+"",width:"1916",height:"1028"})})}),"\n",(0,s.jsx)(n.p,{children:"Run the scene again. You should see the text appear larger than before."}),"\n",(0,s.jsx)(n.h2,{id:"create-a-theme",children:"Create a theme"}),"\n",(0,s.jsx)(n.p,{children:"You can also set a theme and customize the font size and font family."}),"\n",(0,s.jsxs)(n.p,{children:["In the Inspector for the ",(0,s.jsx)(n.strong,{children:"Control"})," node, under ",(0,s.jsx)(n.strong,{children:"Theme"}),", create a new theme resource."]}),"\n",(0,s.jsxs)(n.p,{children:["Click the theme you created, and the ",(0,s.jsx)(n.strong,{children:"Theme"})," panel should appear at the bottom of the window."]}),"\n",(0,s.jsxs)(n.p,{children:['Press the "',(0,s.jsx)(n.strong,{children:"\uff0b"}),'" button to add the node you want to style with the theme.\nYou can override properties to change the appearance from the default theme.']}),"\n",(0,s.jsx)(d.A,{children:(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Create a theme",src:t(6498).A+"",width:"1918",height:"1030"})})}),"\n",(0,s.jsx)(n.p,{children:"Here's how to change the font size:"}),"\n",(0,s.jsx)(d.A,{children:(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Change the font size",src:t(120).A+"",width:"1918",height:"1028"})})}),"\n",(0,s.jsx)(n.p,{children:"Here's how to change the font family:"}),"\n",(0,s.jsx)(d.A,{children:(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Change the font family",src:t(7186).A+"",width:"1916",height:"1028"})})}),"\n",(0,s.jsx)(n.h2,{id:"redscribeeditor-node",children:"ReDScribeEditor node"}),"\n",(0,s.jsx)(n.p,{children:"Try running the scene and writing some Ruby code."}),"\n",(0,s.jsxs)(n.p,{children:["You'll see that the code is highlighted with syntax colors\u2014that's because the ",(0,s.jsx)(n.a,{href:"https://github.com/tkmfujise/ReDScribe/blob/main/demo/addons/redscribe/src/editor/editor.gd",children:"ReDScribeEditor"})," node detects Ruby syntax and applies color highlighting."]}),"\n",(0,s.jsx)(d.A,{children:(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"ReDScribeEdtior",src:t(1099).A+"",width:"1918",height:"1028"})})}),"\n",(0,s.jsxs)(n.p,{children:["To enable automatic brace pairing, open the Inspector for the ",(0,s.jsx)(n.strong,{children:"ReDScribeEditor"})," node and set ",(0,s.jsx)(n.strong,{children:"Auto Brace Completion"}),' to "On".']}),"\n",(0,s.jsx)(d.A,{children:(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"ReDScribeEdtior",src:t(4439).A+"",width:"270",height:"955"})})}),"\n",(0,s.jsx)(n.h2,{id:"attach-a-gdscript",children:"Attach a GDScript"}),"\n",(0,s.jsxs)(n.p,{children:["You've now created a scene that displays an editor panel (",(0,s.jsx)(n.strong,{children:"ReDScribeEditor"}),") on the left side of the screen, and a text panel (",(0,s.jsx)(n.strong,{children:"RichTextLabel"}),") on the right.\nJust a few more steps to go!"]}),"\n",(0,s.jsxs)(n.p,{children:["To turn this into a simple live coding app, attach a GDScript to the ",(0,s.jsx)(n.strong,{children:"Control"})," node."]}),"\n",(0,s.jsxs)(n.p,{children:["Next, to allow direct access to node using unique names like ",(0,s.jsx)(n.code,{children:"%NodeName"})," in GDScript, enable ",(0,s.jsx)(n.strong,{children:"Access as Unique Name"})," for both ",(0,s.jsx)(n.strong,{children:"ReDScribeEditor"})," and ",(0,s.jsx)(n.strong,{children:"RichTextLabel"}),"."]}),"\n",(0,s.jsx)(d.A,{children:(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"ReDScribeEdtior",src:t(8037).A+"",width:"444",height:"842"})})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-gdscript",children:"extends Control\r\n\r\n@onready var res := ReDScribe.new()\r\n\r\nfunc _ready() -> void:\r\n\tres.method_missing.connect(_method_missing)\r\n\tperform()\r\n\r\n\r\nfunc perform() -> void:\r\n\t%RichTextLabel.text = ''\r\n\tres.perform(%ReDScribeEditor.text)\r\n\r\n\r\nfunc add_circle() -> void:\r\n\t%RichTextLabel.add_text('\u25ef')\r\n\r\n\r\nfunc add_square() -> void:\r\n\t%RichTextLabel.add_text('\u25a0')\r\n\r\n\r\nfunc _method_missing(method_name: String, _args: Array) -> void:\r\n\tmatch method_name:\r\n\t\t'circle': add_circle()\r\n\t\t'square': add_square()\r\n\t\t_: pass\n"})}),"\n",(0,s.jsx)(n.p,{children:"Nothing will happen yet when you run the scene."}),"\n",(0,s.jsx)(n.h2,{id:"connect-the-text_changed-signal",children:"Connect the text_changed signal"}),"\n",(0,s.jsxs)(n.p,{children:["Finally, connect the ",(0,s.jsx)(n.strong,{children:"text_changed"})," signal from ",(0,s.jsx)(n.strong,{children:"ReDScribeEditor"})," to the ",(0,s.jsx)(n.code,{children:"perform"})," in the ",(0,s.jsx)(n.strong,{children:"Control"})," node."]}),"\n",(0,s.jsx)(d.A,{children:(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"ReDScribeEdtior",src:t(4422).A+"",width:"1916",height:"1028"})})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-gdscript",children:"func _on_re_d_scribe_editor_text_changed() -> void:\n\tperform()\n"})}),"\n",(0,s.jsx)(n.h2,{id:"complete",children:"Complete!"}),"\n",(0,s.jsx)(n.p,{children:"That's it\u2014you're all set. Try running the scene."}),"\n",(0,s.jsxs)(n.p,{children:["Whenever you type ",(0,s.jsx)(n.code,{children:"circle"})," or ",(0,s.jsx)(n.code,{children:"square"}),", a shape should appear dynamically on the right side of the screen."]}),"\n",(0,s.jsx)(d.A,{children:(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"ReDScribeEdtior",src:t(2425).A+"",width:"664",height:"402"})})}),"\n",(0,s.jsx)(n.p,{children:"Believe it or not, we've built a simple live coding app using just around 30 lines of GDScript!"}),"\n",(0,s.jsx)(n.p,{children:"We gained a parser effortlessly\u2014without any heavy lifting."}),"\n",(0,s.jsx)(n.p,{children:"If we were to implement this purely in GDScript, how would it even be possible?\nYou'd need to build a lexer, write a parser, and then evaluate an AST to execute code...\nThat would take a tremendous amound of work."}),"\n",(0,s.jsx)(n.p,{children:"Thanks to Ruby handling the parsing, the GDScript code can stay focused on display logic\u2014like what to show on screen."}),"\n",(0,s.jsxs)(n.p,{children:["For example, switching ",(0,s.jsx)(n.code,{children:"add_circle"})," or ",(0,s.jsx)(n.code,{children:"add_square"})," to render in 2D or 3D would simply involve modifying the part of the code Godot specializes in, making room for many exciting extensions."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"ReDScribeEditor"})," was originally built as an addon node, but it's designed to work well even in regular scenes.\nUse it in apps like this one\u2014where users write scripts and see them run in a GUI\u2014and it can be a powerful tool."]})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},4422:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/04.text-changed-1dd7fac864f8dfc1483d6633d06258c1.png"},4439:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/04.auto-brace-a1f303b1d4bd6bd30b7a1922231039bc.png"},6498:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/04.create-a-theme-42d18f976ff3310d6843c95ed7c97f1c.png"},7186:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/04.apply-font-198243f858154e47388a5bda3053b55b.png"},8037:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/04.unique-name-bef6950b85649f7f1e23a3e6eec6a96d.png"},9408:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/04.stretch-scale-e5f42e5781f0cbb6beb2581f30b6ac1f.png"}}]);