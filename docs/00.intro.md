---
sidebar_label: Intro
---

# ReDScribe Tutorial

## What is ReDScribe?

ReDScribe is a gdextension plugin that runs Ruby (mruby) inside Godot for writing DSL.

**Features:**
* 💎 You can execute mruby code (a lightweight Ruby) in Godot and emit signals from mruby to Godot.
* ✏️ You can write and edit Ruby files in the Godot Editor.
* ⬛ You can try out Ruby interactively in Godot.


## What is Godot?

[Godot](https://godotengine.org/) is a cross-platform game engine released under the MIT license.

<iframe width="560" height="315" src="https://www.youtube.com/embed/n1Lon_Q2T18?si=ms75UydXDLeeukVl" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>

### GDScript

GDScript is Godot's built-in scripting language.

```gdscript
extends Node
class_name MyNode

const Foo = 'CONST'
var bar := [1, 2, 3]

func _ready() -> void:
    do_something()

func do_something() -> void:
    # ...
    return true
```
```gdscript
extends Resource
class_name MyResource

@export var foo : String
var bar : int

func do_something() -> bool:
    # ...
    return true
```

### Signal

Signals are used to send messages from one game object to another.

```gdscript
# When the Button node's pressed signal is emitted
func _on_button_pressed() -> void:
    do_something()
```
```gdscript
# Custome signal
signal some_signal(val: String)

func _ready() -> void:
    some_signal.connect(_on_some_signal)

func do_something() -> void:
    # ...
    some_signal.emit('foo')

func _on_some_signal(val: String) -> void:
    print_debug(val) # output 'foo'
```

ReDScribe is using signals to bridge between Ruby (mruby) and Godot.


## What is Ruby?

[Ruby](https://www.ruby-lang.org/en) is an object-oriented programming language that has an elegant syntax.

```ruby
class Game
  attr_accessor :score

  def initialize
    self.score = 0
  end

  def roll(pins)
    # ...
  end
end

game = Game.new
20.times { game.roll(1) }
```

Ruby favors developer freedom over rigid rules. 
* Optional `return`
* Optional `;`
* Optional `()`
* Method names can end with `!` or `?`
* Everything is an Object
* Even built-in class methods can be redefined
* Metaprogramming

```ruby
module IntegerExt
  def days_ago
    Date.today - self
  end

  def !
    (1..self).reduce(1){|sum, i| sum *= i }
  end

  def method_missing(name, *args)
    "#{self}#{name}"
  end
end
Integer.prepend IntegerExt

Date.today # => 2025/7/15
4.days_ago # => 2025/7/11

5.!        # => 120

2025.年    # => '2025年'
```


### mruby

[mruby](https://mruby.org/) is a lightweight implementation of the Ruby language designed for embedding into applications.

ReDScribe では、[gdextension](https://docs.godotengine.org/ja/4.x/tutorials/scripting/gdextension/what_is_gdextension.html) という Godot の機能を使って mruby を Godot 上で実行しています。


## What is DSL?

[DSL (Domain-Specific Language)](https://bliki-ja.github.io/DomainSpecificLanguage) とは、ある特定の分野で使われる言葉を意識して作成された、[構文ノイズ](https://bliki-ja.github.io/SyntacticNoise) の少ないプログラミング言語ないしテキストファイルのデータのことです。

Ruby は前述のとおり、`return` や `()` といったプログラミング言語特有の構文を書かなくてもいいので、言語内DSL としてよく利用されています。

```ruby title='player.rb'
class Player
  def initialize(name)
    @name = name
  end

  def walk
    puts "#{@name} walk"
  end

  def jump
    puts "#{@name} jump"
  end
end

def player(name, &block)
  Player.new(name).instance_exec(&block)
end
```
```ruby
require 'player'

player 'Alice' do
  3.times { walk }
  jump
end

# => Alice walk
#    Alice walk
#    Alice walk
#    Alice jump
```

本チュートリアルを通して ReDScribe の使い方を学ぶことで、みなさんが自分専用の DSL を Ruby で楽しく作って、今後のゲームプログラミングにご活用いただければ幸いです。
