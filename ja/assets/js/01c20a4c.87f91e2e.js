"use strict";(self.webpackChunkredscribe_docs=self.webpackChunkredscribe_docs||[]).push([[3063],{1649:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>i,contentTitle:()=>a,default:()=>h,frontMatter:()=>d,metadata:()=>l,toc:()=>t});const l=JSON.parse('{"id":"writing_dsl","title":"DSL \u3092\u66f8\u304f","description":"Ruby \u306e\u57fa\u672c\u7684\u306a\u6587\u6cd5\u3092\u78ba\u8a8d\u3059\u308b","source":"@site/i18n/ja/docusaurus-plugin-content-docs/current/05.writing_dsl.md","sourceDirName":".","slug":"/writing_dsl","permalink":"/redscribe-docs/ja/docs/writing_dsl","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_label":"DSL \u3092\u66f8\u304f"},"sidebar":"tutorialSidebar","previous":{"title":"Example 1 : \u7c21\u5358\u306a\u30e9\u30a4\u30d6\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u30a2\u30d7\u30ea","permalink":"/redscribe-docs/ja/docs/example1_live_coding"},"next":{"title":"Ruby \u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3059\u308b","permalink":"/redscribe-docs/ja/docs/create_ruby_files"}}');var r=s(4848),c=s(8453);const d={sidebar_label:"DSL \u3092\u66f8\u304f"},a="DSL \u3092\u66f8\u304f",i={},t=[{value:"Ruby \u306e\u57fa\u672c\u7684\u306a\u6587\u6cd5\u3092\u78ba\u8a8d\u3059\u308b",id:"ruby-\u306e\u57fa\u672c\u7684\u306a\u6587\u6cd5\u3092\u78ba\u8a8d\u3059\u308b",level:2},{value:"Hash",id:"hash",level:3},{value:"\u5f15\u6570",id:"\u5f15\u6570",level:3},{value:"\u30d6\u30ed\u30c3\u30af",id:"\u30d6\u30ed\u30c3\u30af",level:3},{value:"self",id:"self",level:3},{value:"method_missing",id:"method_missing",level:3},{value:"const_missing",id:"const_missing",level:3},{value:"Object#extend \u3068 Module#include",id:"objectextend-\u3068-moduleinclude",level:3},{value:"Module#prepend",id:"moduleprepend",level:3},{value:"\u6f14\u7b97\u5b50\u30aa\u30fc\u30d0\u30fc\u30ed\u30fc\u30c9",id:"\u6f14\u7b97\u5b50\u30aa\u30fc\u30d0\u30fc\u30ed\u30fc\u30c9",level:3},{value:"DSL \u306e\u57fa\u672c\u4f8b",id:"dsl-\u306e\u57fa\u672c\u4f8b",level:2}];function o(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",mermaid:"mermaid",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"dsl-\u3092\u66f8\u304f",children:"DSL \u3092\u66f8\u304f"})}),"\n",(0,r.jsx)(n.h2,{id:"ruby-\u306e\u57fa\u672c\u7684\u306a\u6587\u6cd5\u3092\u78ba\u8a8d\u3059\u308b",children:"Ruby \u306e\u57fa\u672c\u7684\u306a\u6587\u6cd5\u3092\u78ba\u8a8d\u3059\u308b"}),"\n",(0,r.jsx)(n.p,{children:"REPL \u3092\u4f7f\u3063\u3066\u3001Ruby \u306e\u6587\u6cd5\u3092\u628a\u63e1\u3057\u307e\u3057\u3087\u3046\u3002"}),"\n",(0,r.jsx)(n.h3,{id:"hash",children:"Hash"}),"\n",(0,r.jsx)(n.p,{children:"Hash \u306f\u3001GDScript \u3067\u306f Dictionary \u578b\u306b\u76f8\u5f53\u3057\u307e\u3059\u3002\nSymbol \u3092\u30ad\u30fc\u306b\u3059\u308b\u5834\u5408\u306e\u66f8\u304d\u65b9\u306f2\u901a\u308a\u3042\u308a\u307e\u3059\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ruby",children:"{ foo: true, bar: false }\n\n{ :foo => true, :bar => false }\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u3069\u3061\u3089\u3082\u7d50\u679c\u306f\u540c\u3058\u3067\u3059\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-txt",metastring:'title="Output"',children:'=> { &"foo": true, &"bar": false }\n'})}),"\n",(0,r.jsx)(n.p,{children:"Symbol \u4ee5\u5916\u3082\u30ad\u30fc\u306b\u3067\u304d\u307e\u3059\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ruby",children:"{ 'foo' => true, 1 => 'bar', [:buz] => { 1.0 => 2.0 } }\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-txt",metastring:'title="Output"',children:'=> { "foo": true, 1: "bar", [&"buz"]: { 1.0: 2.0 } }\n'})}),"\n",(0,r.jsx)(n.h3,{id:"\u5f15\u6570",children:"\u5f15\u6570"}),"\n",(0,r.jsxs)(n.p,{children:["Ruby \u3067\u306f\u3001\u30e1\u30bd\u30c3\u30c9\u306b\u6e21\u3059\u30ad\u30fc\u30ef\u30fc\u30c9\u5f15\u6570\u306b\u306f\u3001",(0,r.jsx)(n.code,{children:"()"})," \u3060\u3051\u3067\u306f\u306a\u304f ",(0,r.jsx)(n.code,{children:"{}"})," \u3082\u7701\u7565\u3057\u3066\u6e21\u305b\u307e\u3059\u3002\n\u4ee5\u4e0b\u306f\u3059\u3079\u3066\u540c\u3058\u7d50\u679c\u306b\u306a\u308a\u307e\u3059\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ruby",children:"Alice says: 'Hello Ruby! \u2764'\n\nAlice(says: 'Hello Ruby! \u2764')\n\nAlice({ says: 'Hello Ruby! \u2764' })\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-txt",metastring:'title="Output"',children:'[ Alice ] method_missing: [{ &"says": "Hello Ruby! \u2764" }]\n'})}),"\n",(0,r.jsx)(n.p,{children:"\u30e1\u30bd\u30c3\u30c9\u3092\u5b9a\u7fa9\u3057\u3066\u3001\u4efb\u610f\u306e\u6570\u306e\u5f15\u6570\u3092\u53d7\u3051\u53d6\u308a\u305f\u3044\u5834\u5408\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u66f8\u304d\u307e\u3059\u3002"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Array \u30af\u30e9\u30b9\u3068\u3057\u3066\u5c55\u958b\u3059\u308b\u5834\u5408\u306f ",(0,r.jsx)(n.code,{children:"*args"})," \u306e\u3088\u3046\u306b\u30a2\u30b9\u30bf\u30ea\u30b9\u30af\u3092\u5f15\u6570\u540d\u306e\u524d\u306b1\u3064"]}),"\n",(0,r.jsxs)(n.li,{children:["Hash \u30af\u30e9\u30b9\u3068\u3057\u3066\u5c55\u958b\u3059\u308b\u5834\u5408\u306f ",(0,r.jsx)(n.code,{children:"**kwargs"})," \u306e\u3088\u3046\u306b\u30a2\u30b9\u30bf\u30ea\u30b9\u30af\u3092\u5f15\u6570\u540d\u306e\u524d\u306b2\u3064"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ruby",children:"def foo(arg, *args, **kwargs)\n  Godot.emit_signal :arg, arg\n  Godot.emit_signal :args, args\n  Godot.emit_signal :kwargs, kwargs\nend\n\nfoo 1, 2, 3, foo: true, :bar => 'buz'\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-txt",metastring:'title="Output"',children:'[ arg ] signal emitted: 1\n\n[ args ] signal emitted: [2, 3]\n\n[ kwargs ] signal emitted: { &"foo": true, &"bar": "buz" }\n'})}),"\n",(0,r.jsx)(n.h3,{id:"\u30d6\u30ed\u30c3\u30af",children:"\u30d6\u30ed\u30c3\u30af"}),"\n",(0,r.jsxs)(n.p,{children:["\u30d6\u30ed\u30c3\u30af\u306f Ruby \u306e\u7279\u5fb4\u7684\u306a\u6a5f\u80fd\u3067\u3059\u3002",(0,r.jsx)(n.code,{children:"{}"})," \u3082\u3057\u304f\u306f ",(0,r.jsx)(n.code,{children:"do ... end"})," \u3067\u30d6\u30ed\u30c3\u30af\u3068\u547c\u3070\u308c\u308b\u7279\u6b8a\u306a\u5f15\u6570\u3092\u30e1\u30bd\u30c3\u30c9\u306b\u6e21\u3059\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:["\u30d6\u30ed\u30c3\u30af\u3067\u6e21\u3055\u308c\u305f\u3082\u306e\u306f ",(0,r.jsx)(n.code,{children:"yield"})," \u3067\u8a55\u4fa1\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ruby",children:"def hello\n  result = yield\n  \"Hello #{result}\"\nend\n\ndef world!\n  'world!'\nend\n\nhello { world! }\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-txt",metastring:'title="Output"',children:'=> "Hello world!"\n'})}),"\n",(0,r.jsxs)(n.p,{children:["\u30d6\u30ed\u30c3\u30af\u3092\u5f15\u6570\u3068\u3057\u3066\u53d7\u3051\u53d6\u308b\u969b\u306f\u3001",(0,r.jsx)(n.code,{children:"&block"})," \u306e\u3088\u3046\u306b\u30a2\u30f3\u30d1\u30b5\u30f3\u30c9\u3092\u5f15\u6570\u540d\u306e\u524d\u306b\u66f8\u304d\u307e\u3059\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ruby",children:"@block = nil\ndef run(&block)\n  @block = block\nend\n\nrun { block_called! }\n# or\nrun do\n  block_called!\nend\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-txt",metastring:'title="Output"',children:'=> "#<Proc:0x1ee61f63fc0 -:->"\n'})}),"\n",(0,r.jsx)(n.p,{children:"\u30d6\u30ed\u30c3\u30af\u3067\u6e21\u3055\u308c\u305f\u5f15\u6570\u306f Proc \u30af\u30e9\u30b9\u3068\u547c\u3070\u308c\u308b\u624b\u7d9a\u304d\u578b\u306b\u306a\u308a\u307e\u3059\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u30d6\u30ed\u30c3\u30af\u306f\u4ee5\u4e0b\u306e\u7279\u5fb4\u3092\u6301\u3064\u305f\u3081\u3001DSL \u3067\u3088\u304f\u5229\u7528\u3055\u308c\u307e\u3059\u3002"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u30e1\u30bd\u30c3\u30c9\u547c\u3073\u51fa\u3057\u6642\u306b\u306f\u8a55\u4fa1\u3055\u308c\u306a\u3044"}),"\n",(0,r.jsx)(n.li,{children:"\u5909\u6570\u306b\u683c\u7d0d\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b"}),"\n",(0,r.jsxs)(n.li,{children:["\u4ed6\u8a00\u8a9e\u3067\u540c\u7b49\u306e\u6a5f\u80fd\u3092\u4f7f\u3046\u5834\u5408\u306b ",(0,r.jsx)(n.code,{children:"function"})," \u306a\u3069\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u8a00\u8a9e\u7279\u6709\u306e\u540d\u524d\u3092\u4f7f\u308f\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u304c\u3001Ruby \u3060\u3068\u66f8\u304b\u306a\u304f\u3066\u3088\u3044"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Proc \u30af\u30e9\u30b9\u3092\u8a55\u4fa1\u3059\u308b\u306b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u307e\u3059\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ruby",children:"@block.call\n# or\n@block.()\n# or\ninstance_exec(&@block)\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-txt",metastring:'title="Output"',children:"[ block_called! ] method_missing: []\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"instance_exec"})," \u306f\u3001Proc \u30af\u30e9\u30b9\u306e\u624b\u7d9a\u304d\u3092\u3001\u305d\u306e\u30e1\u30bd\u30c3\u30c9\u304c\u547c\u3070\u308c\u305f\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9(\u30ec\u30b7\u30fc\u30d0\u3068\u3044\u3046)\u3067\u8a55\u4fa1\u3057\u307e\u3059\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ruby",children:"class Foo\r\n  def block_called!\r\n    1\r\n  end\r\nend\r\n\r\nfoo = Foo.new\r\nfoo.instance_exec(&@block)\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-txt",metastring:'title="Output"',children:"=> 1\n"})}),"\n",(0,r.jsx)(n.h3,{id:"self",children:"self"}),"\n",(0,r.jsxs)(n.p,{children:["Ruby \u306f\u30e1\u30bd\u30c3\u30c9\u547c\u3073\u51fa\u3057\u6642\u306e\u30ec\u30b7\u30fc\u30d0\u3092\u7701\u7565\u3057\u305f\u5834\u5408\u306f\u3001",(0,r.jsx)(n.code,{children:"self"})," \u304c\u6697\u9ed9\u306e\u30ec\u30b7\u30fc\u30d0\u306b\u306a\u308a\u307e\u3059\u3002\u5e38\u306b ",(0,r.jsx)(n.code,{children:"self"})," \u304c\u4f55\u3092\u6307\u3057\u3066\u3044\u308b\u304b\u610f\u8b58\u3059\u308b\u3053\u3068\u304c\u91cd\u8981\u306b\u306a\u308a\u307e\u3059\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ruby",children:"class Foo\n  def self.whoami\n    self\n  end\n  \n  def whoami\n    self\n  end\nend\n\n[self, Foo.whoami, Foo.new.whoami]\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-txt",metastring:'title="Output"',children:"=> [main, Foo, #<Foo:0x1ee25c4fda0>]\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9\u3001\u30af\u30e9\u30b9\u5909\u6570\u3092\u5b9a\u7fa9\u3059\u308b\u969b\u306f ",(0,r.jsx)(n.code,{children:"class << self"})," \u3092\u4f7f\u3063\u3066\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ruby",children:"class Actor\n  class << self\n    attr_accessor :current\n\n    def greeting\n      \"Hello! I'm #{current.name}\"\n    end\n  end\n\n  attr_accessor :name\n\n  def initialize(name)\n    self.name = name\n  end\nend\n\nActor.current = Actor.new('Alice')\n\nActor.greeting\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-txt",metastring:'title="Output"',children:'=> "#<Actor:0x1ab31c75d90 @name="Alice">"\r\n\n=> "Hello! I\'m Alice"\n'})}),"\n",(0,r.jsx)(n.h3,{id:"method_missing",children:"method_missing"}),"\n",(0,r.jsxs)(n.p,{children:["Ruby \u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306f\u5fc5\u305a\u4f55\u304b\u3057\u3089\u306e\u30af\u30e9\u30b9\u306b\u5c5e\u3057\u3066\u3044\u307e\u3059\u3002",(0,r.jsx)(n.code,{children:"true"})," \u3084 ",(0,r.jsx)(n.code,{children:"false"}),", ",(0,r.jsx)(n.code,{children:"nil"})," \u3067\u3042\u3063\u3066\u3082\u4f8b\u5916\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ruby",children:"self.class              # => Object\nself.class.ancestors    # => [Object, Kernel, BasicObject]\n\nFoo.class               # => Class\nFoo.class.ancestors     # => [Class, Module, Object, Kernel, BasicObject]\n\nFoo.new.class           # => Foo\nFoo.new.class.ancestors # => [Foo, Object, Kernel, BasicObject]\n\ntrue.class              # => TrueClass\ntrue.class.ancestors    # => [TrueClass, Object, Kernel, BasicObject]\n\nfalse.class             # => FalseClass\nfalse.class.ancestors   # => [FalseClass, Object, Kernel, BasicObject]\n\nnil.class               # => NilClass\nnil.class.ancestors     # => [NilClass, Object, Kernel, BasicObject]\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u4e3b\u306a\u30af\u30e9\u30b9\u306e\u89aa\u5b50\u95a2\u4fc2\u306e\u6a39\u5f62\u56f3\u3092\u4ee5\u4e0b\u306b\u793a\u3057\u307e\u3059\u3002\u3059\u3079\u3066\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306f\u5143\u3092\u8fbf\u308c\u3070 ",(0,r.jsx)(n.code,{children:"BasicObject"})," \u3092\u89aa\u306b\u6301\u3061\u307e\u3059\u3002"]}),"\n",(0,r.jsx)(n.mermaid,{value:"graph TB;\n    BasicObject --\x3e Kernel\r\n    Kernel --\x3e Object\r\n    Object --\x3e Module\r\n    Module --\x3e Class\r\n    Object --\x3e Comparable\r\n    Comparable --\x3e Numeric\r\n    Numeric --\x3e Integer\r\n    Numeric --\x3e Float\n    Comparable --\x3e String\n    Object --\x3e Enumerable\n    Enumerable --\x3e Array\n    Comparable --\x3e Symbol\n    Enumerable --\x3e Hash"}),"\n",(0,r.jsxs)(n.p,{children:["\u3042\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u547c\u3073\u51fa\u305b\u308b\u3059\u3079\u3066\u306e public \u304a\u3088\u3073 protected \u30e1\u30bd\u30c3\u30c9\u306f ",(0,r.jsx)(n.code,{children:"methods"})," \u3067\u53d6\u5f97\u3067\u304d\u307e\u3059\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ruby",children:"1.methods # => [truncate, tap, hash, !, %, upto, ===, <=>, &, +, to_r, ...]\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u30e1\u30bd\u30c3\u30c9\u547c\u3073\u51fa\u3057\u6642\u306b\u81ea\u8eab\u306e\u30af\u30e9\u30b9\u306b\u30e1\u30bd\u30c3\u30c9\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u3001Ruby \u306f\u305d\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30af\u30e9\u30b9\u968e\u5c64\u3092\u9806\u306b\u63a2\u7d22\u3057\u307e\u3059\u3002"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"BasicObject"})," \u307e\u3067\u63a2\u7d22\u3057\u3066\u5b58\u5728\u3057\u306a\u3044\u30e1\u30bd\u30c3\u30c9\u3060\u3063\u305f\u5834\u5408\u3001\u672c\u6765 ",(0,r.jsx)(n.code,{children:"NoMethodError"})," \u3068\u3044\u3046\u4f8b\u5916\u304c\u767a\u751f\u3057\u307e\u3059\u304c\u3001ReDScribe \u3067\u306f ",(0,r.jsx)(n.code,{children:"method_missing"})," \u30e1\u30bd\u30c3\u30c9\u3092\u5b9a\u7fa9\u3057\u3066\u4f8b\u5916\u3092\u30d5\u30c3\u30af\u3057\u3066\u3044\u308b\u305f\u3081\u4f8b\u5916\u306f\u767a\u751f\u3057\u307e\u305b\u3093\u3002\u4ee3\u308f\u308a\u306b ",(0,r.jsx)(n.strong,{children:"method_missing"})," \u30b7\u30b0\u30ca\u30eb\u3092\u767a\u884c\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:["\u3053\u306e ",(0,r.jsx)(n.code,{children:"method_missing"})," \u306f\u3001\u5371\u967a\u3067\u3059\u304c\u3068\u3066\u3082\u5f37\u529b\u306a\u30e1\u30bf\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306e\u529b\u3092\u4e0e\u3048\u307e\u3059\u3002"]}),"\n",(0,r.jsx)(n.p,{children:"\u4f8b\u3048\u3070\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5229\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ruby",children:"module IntegerExt\n  def to_kanji\n    chars = %w(\u3007 \u4e00 \u4e8c \u4e09 \u56db \u4e94 \u516d \u4e03 \u516b \u4e5d)\n    to_s.split('').map{|i| chars[i.to_i] }.join\n  end\n\n  def method_missing(name, *args)\n    \"#{to_kanji}#{name}#{args.map(&:to_s).join}\"\n  end\nend\nInteger.prepend IntegerExt\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ruby",children:"2025.\u5e74 7.\u6708 19.\u65e5\n\n5.\u5146 300.\u5104\u5186\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-txt",metastring:'title="Output"',children:'=> "\u4e8c\u3007\u4e8c\u4e94\u5e74\u4e03\u6708\u4e00\u4e5d\u65e5"\r\n\n=> "\u4e94\u5146\u4e09\u3007\u3007\u5104\u5186"\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"method_missing"})," \u3092\u4f7f\u3046\u30e1\u30ea\u30c3\u30c8\u304c\u3042\u308b\u306e\u306f\u3001\u591a\u304f\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u4e88\u3081\u5b9a\u7fa9\u3059\u308b\u306e\u304c\u96e3\u3057\u3044\u5834\u5408\u306a\u3069\u3067\u3059\u3002"]}),"\n",(0,r.jsx)(n.h3,{id:"const_missing",children:"const_missing"}),"\n",(0,r.jsxs)(n.p,{children:["\u30e1\u30bd\u30c3\u30c9\u304c\u898b\u3064\u304b\u3089\u306a\u3044\u5834\u5408\u306f ",(0,r.jsx)(n.code,{children:"method_missing"})," \u3092\u4f7f\u3044\u307e\u3057\u305f\u304c\u3001\u5b9a\u6570\u304c\u898b\u3064\u304b\u3089\u306a\u3044\u5834\u5408\u306f ",(0,r.jsx)(n.code,{children:"const_missing"})," \u3092\u4f7f\u3044\u307e\u3059\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:["Ruby \u306f\u82f1\u5b57\u5927\u6587\u5b57\u3067\u59cb\u307e\u308a\u5f15\u6570\u304c\u7121\u3044\u5834\u5408\u306f\u30e1\u30bd\u30c3\u30c9\u3067\u306f\u306a\u304f\u306f\u5b9a\u6570\u3068\u3057\u3066\u5224\u65ad\u3059\u308b\u305f\u3081\u3001\u540d\u524d\u306e\u5148\u982d\u304c\u5927\u6587\u5b57(A-Z)\u306e\u3082\u306e\u3092\u52d5\u7684\u306b\u5b9a\u7fa9\u3059\u308b\u306b\u306f ",(0,r.jsx)(n.code,{children:"const_missing"})," \u3092\u4f7f\u3046\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ruby",children:"Alice # const_missing\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ruby",children:'def Object.const_missing(name)\n  "#{name} was called"\nend\n\nAlice\n'})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-txt",metastring:'title="Output"',children:'=> "Alice was called"\n'})}),"\n",(0,r.jsx)(n.h3,{id:"objectextend-\u3068-moduleinclude",children:"Object#extend \u3068 Module#include"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Object"})," \u306b\u30e1\u30bd\u30c3\u30c9\u3092\u8ffd\u52a0\u3059\u308b\u5834\u5408\u306f ",(0,r.jsx)(n.code,{children:"extend"})," \u3092\u4f7f\u3044\u307e\u3059\u3002\n",(0,r.jsx)(n.code,{children:"Module"})," \u304a\u3088\u3073 ",(0,r.jsx)(n.code,{children:"Class"})," \u306b\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30e1\u30bd\u30c3\u30c9\u3092\u8ffd\u52a0\u3059\u308b\u5834\u5408\u306f ",(0,r.jsx)(n.code,{children:"include"})," \u3092\u4f7f\u3044\u307e\u3059\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ruby",children:"module Hello\n  def hello!\n    self.to_s + ' hello!'\n  end\nend\n\nmodule Yeah\r\n  def yeah!\r\n    self.to_s + ' yeah!'\r\n  end\r\nend\r\n\r\nclass Bar\r\n  extend Hello\n  include Yeah\r\nend\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ruby",children:"Bar.hello!\n\nBar.yeah!\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-txt",metastring:'title="Output"',children:'=> "Bar hello!"\n\n[ yeah! ] method_missing: []\r\n=> <null>\n'})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ruby",children:"Bar.new.hello!\r\n\nBar.new.yeah!\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-txt",metastring:'title="Output"',children:'[ hello! ] method_missing: []\n=> <null>\n\n=> "#<Bar:0x1ee25c4c650> yeah!"\r\n'})}),"\n",(0,r.jsx)(n.h3,{id:"moduleprepend",children:"Module#prepend"}),"\n",(0,r.jsxs)(n.p,{children:["Ruby \u306e\u7d44\u307f\u8fbc\u307f\u30af\u30e9\u30b9\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u30aa\u30fc\u30d0\u30fc\u30e9\u30a4\u30c9\u3059\u308b\u306b\u306f\u3001",(0,r.jsx)(n.code,{children:"prepend"})," \u3092\u4f7f\u3044\u307e\u3059\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"prepend"})," \u306f\u3001",(0,r.jsx)(n.code,{children:"include"})," \u3068\u306f\u9055\u3063\u3066\u7d99\u627f\u30c4\u30ea\u30fc\u306e\u624b\u524d\u306b\u8ffd\u52a0\u3055\u308c\u308b\u305f\u3081\u3001\u30e1\u30bd\u30c3\u30c9\u3092\u4e0a\u66f8\u304d\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ruby",children:"''.to_i # => 0\n1.to_s  # => '1'\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ruby",children:"module Helper\n  def to_i\n    super + 100\n  end\n\n  def to_s\n    super + '!'\n  end\nend\n\nString.include Helper\nInteger.prepend Helper\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ruby",children:"''.class.ancestors # => [String, Helper, Comperable, ...]\n1.class.ancestors  # => [Helper, Integer, Numeric, ...]\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ruby",children:"''.to_i\n\n1.to_s\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-txt",metastring:'title="Output"',children:"=> 0\n\n=> '1!'\n"})}),"\n",(0,r.jsx)(n.h3,{id:"\u6f14\u7b97\u5b50\u30aa\u30fc\u30d0\u30fc\u30ed\u30fc\u30c9",children:"\u6f14\u7b97\u5b50\u30aa\u30fc\u30d0\u30fc\u30ed\u30fc\u30c9"}),"\n",(0,r.jsx)(n.p,{children:"Ruby \u3067\u306f\u3001\u6f14\u7b97\u5b50\u30aa\u30fc\u30d0\u30fc\u30ed\u30fc\u30c9\u3082\u3067\u304d\u307e\u3059\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ruby",children:":first > :second           # => false\n:first > :second > :third  # method_missing\n\n- :Ruby                    # method_missing\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ruby",children:'class SymbolChain\n  attr_accessor :chain\n\n  def initialize(origin)\n    self.chain = [origin]\n  end\n\n  def add(sym)\n    tap { self.chain << sym }\n  end\n  alias_method :>, :add\nend\n\nmodule SymbolExt\n  def >(other)\n    SymbolChain.new(self).add(other)\n  end\n\n  def -@\n    "I love #{self}"\n  end\nend\n\nSymbol.prepend SymbolExt\n'})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ruby",children:":first > :second > :third\n\n- :Ruby\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-txt",metastring:'title="Output"',children:'=> "#<SymbolChain:0x1ab31c765a0 @chain=[:first, :second, :third]>"\r\n\n=> "I love Ruby"\n'})}),"\n",(0,r.jsx)(n.h2,{id:"dsl-\u306e\u57fa\u672c\u4f8b",children:"DSL \u306e\u57fa\u672c\u4f8b"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ruby",children:"class Player\n  attr_accessor :name\n\r\n  def initialize(name)\r\n    self.name = name\r\n  end\r\n\r\n  def walk\n    emit :walk\r\n  end\r\n\r\n  def jump\r\n    emit :jump\r\n  end\n\n  private\n    def emit(key)\n      Godot.emit_signal key, { name: name }\n    end\r\nend\r\n\n\r\ndef player(name, &block)\r\n  Player.new(name).instance_exec(&block)\r\nend\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ruby",children:"player 'Alice' do\n  3.times { walk }\n  jump\nend\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-txt",metastring:'title="Output"',children:'[ walk ] signal emitted: { &"name": "Alice" }\r\n[ walk ] signal emitted: { &"name": "Alice" }\r\n[ walk ] signal emitted: { &"name": "Alice" }\r\n[ jump ] signal emitted: { &"name": "Alice" }\n'})})]})}function h(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}}}]);